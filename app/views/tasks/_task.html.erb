<%= form_tag(user_goals_path(current_user)) do %>
  <%= hidden_field_tag('task_id', @task.id) %>
  <%= button_tag(class: 'btn-small', type: 'submit', hidden: @goal_added) do %>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
    </svg>
  <% end %>
<% end %>
<div data-controller="tasks">
  <div class="block">
    <%= form_with(model: task, class:"text-lg inline-block my-3 w-72") do |form| %>
      <%= form.check_box :completed,
              data: {
                userid: @user.id,
                id: @task.id,
                action: "tasks#toggle tasks#confetti learningmap#move"
              }, class: "mr-2 align-middle bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-5 w-5 rounded checked:bg-green-500",checked: @goal_finished, disabled: @goal_finished %>
    <% end %>
  </div>
  <p class="my-5">
    <strong class="block font-medium mb-1"><%= @task.id %></strong>
  </p>
  <p class="my-5">
    <strong class="block font-medium mb-1">Content:</strong>
    <%= task.content %>
  </p>
  <div class="flex justify-end items-center flex-wrap mt-6">
    <button class="btn-small" data-action="click->modal#close click->tasks#refresh">Close</button>
  </div>
</div>